<div class="poetry-search-container">
  <div class="header">
    <h1 class="title">Poetry Database Explorer</h1>
    <p class="subtitle">Discover timeless verses from the world's greatest poets</p>
  </div>

  <div class="search-card">
    <div class="search-form">
      <div class="input-group">
        <label for="author">Author Name</label>
        <input
          id="author"
          type="text"
          [(ngModel)]="searchAuthor"
          placeholder="e.g., William Shakespeare, Emily Dickinson..."
          (keyup.enter)="search()"
          class="search-input"
        />
      </div>

      <div class="input-group">
        <label for="title">Poem Title</label>
        <input
          id="title"
          type="text"
          [(ngModel)]="searchTitle"
          placeholder="e.g., Sonnet, Ozymandias..."
          (keyup.enter)="search()"
          class="search-input"
        />
      </div>

      <div class="button-group">
        <button (click)="search()" class="btn btn-primary" [disabled]="loading">
          <span *ngIf="!loading">Search</span>
          <span *ngIf="loading">Searching...</span>
        </button>
        <button (click)="clearSearch()" class="btn btn-secondary" [disabled]="loading">
          Clear
        </button>
        <button (click)="loadRandomPoems()" class="btn btn-accent" [disabled]="loading">
          Random Poems
        </button>
      </div>
    </div>
  </div>

  <div class="error-message" *ngIf="error">
    <div class="error-icon">⚠️</div>
    <p>{{ error }}</p>
  </div>

  <div class="loading-spinner" *ngIf="loading">
    <div class="spinner"></div>
    <p>Loading poems...</p>
  </div>

  <div class="results-container" *ngIf="!loading && searchPerformed">
    <div class="results-header" *ngIf="poems.length > 0">
      <h2>Found {{ poems.length }} poem{{ poems.length !== 1 ? 's' : '' }}</h2>
      <p class="page-info" *ngIf="totalPages > 1">
        Page {{ currentPage }} of {{ totalPages }}
      </p>
    </div>

    <div class="poems-grid" *ngIf="poems.length > 0">
      <app-poem-card *ngFor="let poem of paginatedPoems" [poem]="poem"></app-poem-card>
    </div>

    <div class="pagination" *ngIf="poems.length > 0 && totalPages > 1">
      <button
        class="pagination-btn"
        (click)="previousPage()"
        [disabled]="currentPage === 1"
      >
        ← Previous
      </button>

      <div class="page-numbers">
        <button
          *ngFor="let page of pageNumbers"
          class="page-number"
          [class.active]="page === currentPage"
          (click)="goToPage(page)"
        >
          {{ page }}
        </button>
      </div>

      <button
        class="pagination-btn"
        (click)="nextPage()"
        [disabled]="currentPage === totalPages"
      >
        Next →
      </button>
    </div>

    <div class="no-results" *ngIf="poems.length === 0 && !error">
      <p>No poems found. Try a different search term!</p>
    </div>
  </div>
</div>
